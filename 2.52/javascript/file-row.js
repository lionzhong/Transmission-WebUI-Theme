function FileRow(e,t){var i={have:0,index:0,isDirty:!1,isWanted:!0,priority:0,me:this,size:0,torrent:null},n={priority_low_button:null,priority_normal_button:null,priority_high_button:null,progress:null,root:null},r=function(e,t){i.torrent=e,i.index=t,u(e,t)},o=function(e){i.have!==e.bytesCompleted&&(i.have=e.bytesCompleted,i.isDirty=!0),i.size!==e.length&&(i.size=e.length,i.isDirty=!0),i.priority!==e.priority&&(i.priority=e.priority,i.isDirty=!0),i.isWanted!==e.wanted&&(i.isWanted=e.wanted,i.isDirty=!0)},l=function(){var e=$(n.root);e.toggleClass("skip",!i.isWanted),e.toggleClass("complete",p()),$(e[0].checkbox).prop("checked",i.isWanted)},s=function(){$(n.priority_high_button).toggleClass("selected",1===i.priority),$(n.priority_normal_button).toggleClass("selected",0===i.priority),$(n.priority_low_button).toggleClass("selected",i.priority===-1)},a=function(){var e=100*(i.size?i.have/i.size:1),t=[Transmission.fmt.size(i.have)," of ",Transmission.fmt.size(i.size)," (",Transmission.fmt.percentString(e),"%)"].join("");setTextContent(n.progress,t)},c=function(){i.isDirty&&(i.isDirty=!1,a(),l(),s())},d=function(){o(i.torrent.getFile(i.index)),c()},p=function(){return i.have>=i.size},u=function(e,t){var r,o,l,s,a=e.getFile(t);return l=document.createElement("li"),l.id="t"+i.torrent.getId()+"f"+i.index,l.className="inspector_torrent_file_list_entry "+(t%2?"odd":"even"),n.root=l,r=document.createElement("input"),r.type="checkbox",r.className="file_wanted_control",r.title="Download file",$(r).change(function(e){m($(e.currentTarget).prop("checked"))}),l.checkbox=r,l.appendChild(r),r=document.createElement("div"),r.className="file-priority-radiobox",s=r,r=document.createElement("div"),r.className="low",r.title="低优先级",$(r).click(function(){g(-1)}),n.priority_low_button=r,s.appendChild(r),r=document.createElement("div"),r.className="normal",r.title="标准优先级",$(r).click(function(){g(0)}),n.priority_normal_button=r,s.appendChild(r),r=document.createElement("div"),r.title="低优先级",r.className="high",$(r).click(function(){g(1)}),n.priority_high_button=r,s.appendChild(r),l.appendChild(s),o=a.name||"Unknown",o=o.substring(o.lastIndexOf("/")+1),o=o.replace(/([\/_\.])/g,"$1&#8203;"),r=document.createElement("div"),r.className="inspector_torrent_file_list_entry_name",setTextContent(r,o),l.appendChild(r),r=document.createElement("div"),r.className="inspector_torrent_file_list_entry_progress",l.appendChild(r),n.progress=r,d(),l},m=function(e){$(i.me).trigger("wantedToggled",[i.me,e])},g=function(e){$(i.me).trigger("priorityToggled",[i.me,e])};this.getElement=function(){return n.root},this.getIndex=function(){return i.index},this.isEditable=function(){return i.torrent.getFileCount()>1&&!p()},r(e,t)}